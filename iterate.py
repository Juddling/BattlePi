__author__ = 'Judd'

import constants
from Attack import Attack, HuntType
from game_logic import InitPlayerBoard, DeployFleet
from addition import add_jagged_list

enemy_config1 = [
    [1, 1, 1, 1, 1, 1],
    [1, 1, 2, 2, 2, 1],
    [1, 1, 1, 1, 1, 1],
    [1, 1, 1, 2, 1, 1],
    [1, 1, 2, 2, 2, 1],
    [1, 1, 2, 1, 2, 1],
    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
    [1, 1, 1, 1, 2, 2, 1, 1, 1, 1, 2, 1],
    [1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 2, 1],
    [1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 2, 1],
    [1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 2, 1],
    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
]

enemy_config2 = [
    [2, 2, 2, 1, 1, 1],
    [1, 1, 1, 1, 1, 1],
    [1, 1, 1, 1, 1, 1],
    [1, 1, 1, 1, 1, 2],
    [1, 1, 1, 1, 1, 2],
    [1, 1, 1, 1, 1, 2],
    [1, 1, 1, 1, 2, 2, 2, 1, 1, 2, 1, 2],
    [1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2],
    [2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1],
    [2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
    [2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
    [2, 1, 1, 1, 1, 2, 2, 1, 1, 1, 1, 1],
]

enemy_config3 = [
    [1, 1, 1, 1, 1, 1],
    [1, 2, 1, 1, 1, 1],
    [1, 2, 1, 1, 2, 1],
    [1, 2, 1, 1, 2, 1],
    [1, 1, 1, 1, 1, 1],
    [1, 1, 1, 1, 1, 1],
    [1, 2, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1],
    [1, 2, 2, 2, 1, 1, 2, 1, 1, 1, 2, 1],
    [1, 1, 2, 1, 1, 1, 2, 1, 1, 1, 2, 1],
    [1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 2, 1],
    [1, 1, 1, 1, 1, 2, 2, 2, 1, 1, 2, 1],
    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
]

enemy_config4 = [
    [1, 1, 1, 1, 1, 1],
    [1, 1, 1, 1, 1, 1],
    [1, 1, 1, 1, 1, 1],
    [1, 1, 1, 1, 1, 1],
    [1, 1, 1, 1, 1, 1],
    [1, 1, 1, 1, 1, 1],
    [1, 1, 1, 1, 1, 1, 2, 2, 1, 2, 2, 2],
    [1, 1, 1, 1, 1, 1, 1, 2, 2, 1, 2, 1],
    [1, 1, 1, 1, 1, 1, 2, 2, 1, 1, 2, 1],
    [1, 1, 1, 1, 1, 1, 1, 2, 2, 1, 2, 1],
    [1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2],
    [1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1],
]

enemy_config5 = [
    [1, 1, 1, 1, 1, 1],
    [1, 2, 1, 1, 2, 1],
    [1, 2, 1, 1, 2, 1],
    [1, 1, 1, 1, 2, 1],
    [1, 1, 1, 1, 1, 1],
    [1, 1, 1, 1, 1, 1],
    [1, 2, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1],
    [1, 2, 2, 2, 1, 1, 2, 1, 1, 1, 2, 1],
    [1, 1, 2, 1, 1, 1, 2, 1, 1, 1, 2, 1],
    [1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 2, 1],
    [1, 1, 1, 1, 1, 2, 2, 2, 1, 1, 2, 1],
    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
]

enemy_config6 = [
    [1, 1, 1, 2, 2, 2],
    [1, 1, 1, 1, 1, 1],
    [1, 1, 1, 1, 1, 1],
    [1, 1, 1, 2, 2, 1],
    [1, 1, 2, 2, 1, 1],
    [1, 1, 1, 2, 2, 1],
    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
    [2, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1],
    [2, 2, 2, 2, 1, 1, 1, 1, 1, 2, 1, 1],
    [2, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1],
    [1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1],
    [1, 1, 1, 1, 1, 2, 2, 1, 1, 1, 1, 1],
]

enemy_config7 = [
    [1, 1, 1, 1, 1, 1],
    [1, 2, 1, 1, 2, 1],
    [1, 2, 1, 1, 2, 1],
    [1, 2, 1, 1, 1, 1],
    [1, 1, 1, 1, 1, 1],
    [1, 1, 1, 1, 2, 1],
    [1, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1],
    [1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1],
    [1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 1, 1],
    [1, 1, 1, 1, 1, 1, 1, 2, 2, 1, 1, 1],
    [1, 2, 2, 2, 2, 1, 1, 1, 2, 2, 1, 1],
    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
]

enemy_config8 = [
    [1, 1, 1, 1, 1, 1],
    [2, 1, 1, 1, 1, 2],
    [2, 1, 1, 1, 1, 2],
    [2, 1, 1, 1, 1, 2],
    [1, 1, 1, 1, 1, 2],
    [1, 1, 1, 1, 1, 1],
    [1, 1, 1, 1, 1, 1, 2, 2, 1, 1, 1, 1],
    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
    [1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1],
    [1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 2, 2],
    [1, 1, 1, 2, 1, 1, 1, 1, 1, 2, 2, 1],
    [1, 1, 2, 2, 2, 1, 1, 1, 1, 1, 2, 2],
]

enemy_config9 = [
    [1, 1, 1, 1, 1, 1],
    [1, 2, 1, 2, 1, 1],
    [1, 2, 1, 2, 1, 1],
    [1, 1, 1, 2, 1, 1],
    [1, 1, 1, 1, 1, 1],
    [1, 1, 1, 1, 1, 1],
    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
    [1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1],
    [1, 2, 1, 2, 1, 2, 2, 2, 1, 2, 1, 1],
    [1, 2, 2, 2, 1, 1, 2, 1, 1, 2, 1, 1],
    [1, 1, 2, 1, 1, 1, 2, 1, 1, 2, 1, 1],
    [1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1],
]

iterations = 100
csv = ""

heat_map = InitPlayerBoard(0)

for i in range(iterations):
    # while True:
    #     config = InitPlayerBoard()
    #     try:
    #         DeployFleet(config, False)
    #     except RuntimeError:
    #         continue
    #
    #     break


    # for row in config:
    #     for index, item in enumerate(row):
    #         if item == 5:
    #             row[index] = 1
    #
    # heat_map = add_jagged_list(heat_map, config)

    attack = Attack(enemy_config5, HuntType.LINES)
    total = attack.hits + attack.misses
    csv += str(total) + "," + str(attack.search_misses) + "," + str(attack.misses - attack.search_misses) + "\n"

    #if i % 1000 == 0:
    #    print (i)

    print("Hits: ", attack.hits, ", Misses: ", attack.misses, ", Search Hits: ", attack.search_hits,
          ", Search Misses: ", attack.search_misses, "Other Misses: ", attack.misses - attack.search_misses)

with open("5lines.csv", 'w') as f:
    f.write("total shots,search misses,other misses\n" + csv)

# for row in heat_map:
#     print (row)